/* (C) Copyright 2007 ZZEE. All rights reserved. http://www.zzee.com .
This file is a part of ZZEE DHTML Menu Free Version (Product).

You may use or display this file only according to the terms of the License
for the Product. Any other use or copying is prohibited.

You may not modify or alter this file. You may not remove
this copyright notice. 

Version 2.1.0 */
 function ZZEEMenus(){this.version='2.1.0';if(this.updateG){this.updateG();}var G=this,D=document,M=[],oldMO,oldC,oldKD,oldKU,PL='paddingLeft',PR='paddingRight',OW='offsetWidth',OH='clientHeight',OMO='onmouseover',OC='onclick',OKD='onkeydown',OKU='onkeyup',FC='firstChild',NS='nextSibling',L='length',CN='className',OP='offsetParent',DE='documentElement',altDown=0,evSet=0;this.libPath='/zzmenu/';this.overlayX=2;this.overlayY=1;this.scOffset=16;this.rArrOffset=12;this.capPad=4;this.minSubWidth=120;this.dontUseAltUp=false;this.expandText='Click to expand';this.doFocus=true;if(G.ieHack){G.ieHack();}G.setEvents=function(){if(evSet){return;}evSet=1;oldMO=D[OMO];D[OMO]=zzMO;oldC=D[OC];D[OC]=zzC;oldKD=D[OKD];D[OKD]=zzKD;oldKU=D[OKU];D[OKU]=zzKU;};this.initFromHTML=function(a){var i,u,m,l=a[L];for(i=0;i<l;i++){u=a[i];if(!u){return false;}m=new ZZMenu();M[M[L]]=m;m.ul=u;m.h=G.isClass(u,'zzmenuH');G.delClass(u,'zzmenuCSS');init(m,u,0);}G.setEvents();return true;};function init(mn,u,p){var n,m,q,e,o,ac,cl,t,z,pr=0;z=parseInt(G.getStyle(u,'zIndex'),10)||499;o=p?p:mn;for(n=u[FC];n;n=n[NS]){if(n.nodeType!=1){continue;}if(n.tagName.toLowerCase()!='li'){continue;}e=new ZZME(n,mn);if(!o.kid){o.kid=e;}e.dad=p;e.pr=pr;if(pr){pr.nx=e;}pr=e;e.cl=n[CN];e.sep=(e.cl=='sh')||(e.cl=='sv');G.adjustCSS(n);n[OC]=G.bind(e,"click");n[OMO]=G.bind(e,"mover");for(m=n[FC];m;m=m[NS]){if(m.nodeType!=1){continue;}if(m.tagName.toLowerCase()=='span'){e.sp=m;}}for(m=e.sp?e.sp[FC]:0;m;m=m[NS]){if(m.nodeType!=1){continue;}if(m.tagName.toLowerCase()=='a'){m.onfocus=G.bind(e,"onfocus");e.a=m;e.acl=m[CN];ac=m.getAttribute('accesskey');if(ac){e.accl=ac.toUpperCase();}else if(p){q=G.getChild(m,'u');if(q){ac=getText(q);e.accl=ac.toUpperCase();}}q=G.getChild(m,'i');if(q){cl=q[CN];if(cl=='sc'){t=getText(q);t=G.parseShortcut(t);if(t.k){mn.sc[mn.sc[L]]=e;e.sc=q;e.sco=t;}}}q=G.getStyle(m,'backgroundImage');e.i=q&&q[L];if((!p)&&(mn.h)){q=G.getChild(m,'img');e.i=!(!q);}}else if(m.tagName.toLowerCase()=='ul'){e.ul=m;m.style.zIndex=z+1;init(mn,m,e);}}}}function unHiMenus(b){var i,l=M[L];for(i=0;i<l;i++){if(M[i]!=b){M[i].unHi(0);}}}function ZZSubmenu(){this.ul=0;this.kid=0;this.wSet=0;}if(G.ZZSM){ZZSubmenu.prototype=G.ZZSM();}ZZSubmenu.prototype.kids=function(s){if(!this.kid){return 0;}var e,a=[],i=0;for(e=this.kid;e;e=e.nx){if(((!e.sep)&&e.en)||s){a[i++]=e;}}return a;};function unHiKids(T){var e;for(e=T.kid;e;e=e.nx){e.unHi();if(e.kid&&e.expd){unHiKids(e);}if(e.expd){e.coll();}}}ZZSubmenu.prototype.setWidth=function(){var T=this,u=T.ul,c,a,mc=0,msc=0,lp=0,rp=0;if(!T.kid){return;}if(T.wSet){return;}T.wSet=1;u.style.width='1280px';for(c=T.kid;c;c=c.nx){if(c.sep){continue;}a=c.a;lp=max(lp,zzint(G.getStyle(a,PL)));rp=max(rp,zzint(G.getStyle(a,PR)));}for(c=T.kid;c;c=c.nx){if(c.sep){continue;}a=c.a;a.style.display='inline';a.style[PL]=0;a.style[PR]=0;mc=max(mc,a[OW]);a.style.display='block';a.style[PL]=lp+'px';a.style[PR]=rp+'px';a=c.sc;if(a){a.style.display='inline';msc=max(msc,a[OW]);}}mc+=lp;if(msc){mc+=G.scOffset;}if(rp){rp+=G.rArrOffset;}for(c=T.kid;c;c=c.nx){if(c.sep){continue;}a=c.sc;if(a){a.style.position='absolute';a.style.left=mc+'px';}}u.style.width=max((mc+rp+msc+G.capPad),G.minSubWidth)+'px';};function ZZMenu(){var T=this;this.autoTopLevelExpansion=true;this.allowSubmenuClick=false;this.closeOnmouseout=true;T.h=0;T.sc=[];T.hi=0;T.expd=0;T.unHi=function(f){if(T.hi){if(f&&T.kid){T.onclose=1;var d=G.getStyle(T.ul,'display');if(d&&(d.toLowerCase()!='none')){T.kid.a.focus();T.kid.a.blur();}}unHiKids(T);}T.hi=0;T.expd=0;};return T;}ZZMenu.prototype=new ZZSubmenu();ZZMenu.prototype.horizontal=function(h){this.h=h;};function ZZME(li,menu){var T=this;T.menu=menu;T.dad=0;T.nx=0;T.pr=0;T.li=li;T.a=0;T.sep=0;T.accl=0;T.sc=0;T.sco=0;T.cl='';T.acl='';T.hi=0;T.expd=0;var chk=0;T.r=0;T.sChk=function(b){chk=b;T.ckd=1;};T.ckd=0;T.getChecked=function(){return chk;};T.i=0;T.url='#';T.en=1;}ZZME.prototype=new ZZSubmenu();ZZME.prototype.l=function(){var p,x=0;for(p=this.dad;p;p=p.dad){x++;}return x;};ZZME.prototype.par=function(){return this.dad?this.dad:this.menu;};ZZME.prototype.sibls=function(){return this.par().kids(0);};ZZME.prototype.cbIcon=function(){var T=this;var x=T.a&&(!T.i)&&(!T.sep);x=x&&T.ckd&&(T.l()||(!T.menu.h));if(x){x=T.r?(T.hi?'radA':'rad'):(T.hi?'chkA':'chk');if(!T.getChecked()){x='u'+x;}G.delClasses(T.a,['chk','chkA','uchk','uchkA','rad','radA','urad','uradA']);T.a.className+=' '+x;}};ZZME.prototype.exp=function(){var T=this;if(T.kid&&T.ul&&T.en&&(!T.expd)){T.menu.hi=T;T.menu.expd=1;unHiMenus(T.menu);var ul=T.ul;var oX=G.overlayX;var oY=G.overlayY;var li=T.li;var l=T.l();var h=G.isClass(li,'h');var aL=G.getOffset(li,'offsetLeft');var aT=G.getOffset(li,'offsetTop');var left=G.getRelOffset(li,'offsetLeft');var top=G.getRelOffset(li,'offsetTop');var xA=h?0:(li[OW]-oX);var yA=h?(li.offsetHeight-oY):oY;var x=left+xA;var y=top+yA;ul.style.left=x+'px';ul.style.top=y+'px';ul.style.display='block';T.setWidth();if(!h){var bsl=D.body.scrollLeft;var uow=ul[OW];if((aL+xA+uow)>(D.body[OW]+bsl)){if((aL-uow+oX)>=bsl){ul.style.left=(left-uow+oX)+'px';}}}var uch=ul.clientHeight;var bst=D.body.scrollTop;y=(D[DE])?max(D[DE][OH],D.body[OH]):D.body[OH];if((aT+yA+ul.offsetHeight)>(y+bst)){yA=h?oY:(li.offsetHeight-oY);if((aT-uch+yA)>=bst){ul.style.top=(top-uch+yA)+'px';}}if(G.hackOnExp){G.hackOnExp(T);}T.expd=1;}};ZZME.prototype.coll=function(){var T=this;if(T.ul&&T.expd){T.ul.style.display='none';if(G.hackOnColl){G.hackOnColl(T);}T.expd=0;}};G.adjustCSS=function(l){l.style.position='static';};ZZME.prototype.hilite=function(){var T=this;if(!T.en){return;}T.menu.hi=T;unHiMenus(T.menu);if(T.hi){return;}var e=T.li;var h=G.isClass(e,'h');var dCl='u'+(h?'h':'v');var aCl='a'+(h?'h':'v');G.delClass(e,dCl);e[CN]+=' '+aCl;G.adjustCSS(e);e=T.sp;G.delClass(e,dCl);e[CN]+=' '+aCl;e=T.a;G.delClass(e,dCl);if(G.isClass(e,'smH')){G.delClass(e,'smH');e[CN]+=' smHA';}else if(G.isClass(e,'smV')){G.delClass(e,'smV');e[CN]+=' smVA';}e[CN]+=' '+aCl;T.hi=1;if(T.iconA){T.upIcon(T.iconA);}T.cbIcon();var d=G.getStyle(T.par().ul,'display');if(d&&(d.toLowerCase()!='none')){T.a.focus();T.a.blur();}};ZZME.prototype.unHi=function(){var T=this;if(!(T.hi&&T.en)){return;}var e=T.li;e[CN]=T.cl;G.adjustCSS(e);T.sp[CN]=T.cl;T.a[CN]=T.acl;T.hi=0;if(T.iconA){T.upIcon(T.icon);}T.cbIcon();};ZZME.prototype.unHiSibls=function(){unHiKids(this.par());};ZZME.prototype.action=function(kb,e){var T=this;if(!T.en){return false;}if(T.kid){if(!T.menu.allowSubmenuClick){if(!T.expd){T.unHiSibls();T.hilite();T.exp();if(kb){T.kid.hilite();}}return false;}}cancelEv(e);T.menu.unHi(1);if(T[OC]){return T[OC](e);}if(T.a){var u=T.a.href;if(u[L]){if(T.a.target&&T.a.target.length){window.open(u,T.a.target);}else{window.location.href=u;}}}return false;};function kbrdHi(p){p.unHiSibls();p.hilite();var c=p.kids(0);if(c&&c.length){p.exp();c[0].hilite();}}ZZME.prototype.onfocus=function(ev){if(!G.doFocus){return true;}var T=this;if(T.menu.onclose){T.menu.onclose=0;cancelEv(ev);return false;}if(!(T.sep||(!T.en)||T.hi)){kbrdHi(T);}cancelEv(ev);return false;};ZZME.prototype.mover=function(ev){var T=this;if(!(T.sep||(!T.en)||T.hi)){T.unHiSibls();T.hilite();if(T.kid&&(!T.expd)){if(T.dad||T.menu.expd||T.menu.autoTopLevelExpansion){T.exp();}else{T.a.title=G.expandText;}}}cancelEv(ev);return false;};ZZME.prototype.click=function(ev){if(this.action(0,ev)){return true;}return false;};function fLRUD(T,p,b){if(!p){return 0;}var a=p.kids(0);if(!a){return 0;}var s=-1,l=a[L],i;for(i=0;i<l;i++){if(a[i]==T){s=i;break;}}if(s<0){return 0;}if(b){s--;if(s<0){s=l-1;}}else{s++;if(s>=l){s=0;}}return a[s];}function fLR(T,l){if((!T.menu.h)||T.dad){return 0;}return fLRUD(T,T.menu,l);}function fUD(T,l){if((!T.dad)&&T.menu.h){return 0;}return fLRUD(T,T.par(),l);}function zzMO(ev){var e=(ev&&ev.target)?ev.target:event.srcElement;var p,i,l=M[L];for(i=0;i<l;i++){p=M[i].ul;if(!((e==p)||isParent(e,p))){if(M[i].closeOnmouseout){M[i].unHi(1);}}}if(oldMO){return oldMO(ev);}}function zzC(ev){var e=(ev&&ev.target)?ev.target:event.srcElement;var i,p,l=M[L];for(i=0;i<l;i++){p=M[i].ul;if(!isParent(e,p)){M[i].unHi();}}if(oldC){return oldC(ev);}}function zzKU(ev){if(G.dontUseAltUp){if(oldKU){return oldKU(ev);}return;}if(zzKUh(ev)){if(oldKU){return oldKU(ev);}}else{cancelEv(ev);}return;}function zzKD(ev){if(zzKDh(ev)){if(oldKD){return oldKD(ev);}}else{cancelEv(ev);}return;}function zzKUh(ev){var k=0,C=0,S=0,e;if(ev&&ev.target){k=ev.which;e=ev;}else{k=event.keyCode;e=event;}C=e.ctrlKey;S=e.shiftKey;var jA=(k==18)&&(!(C||S));if(jA&&altDown){var l=M[L];for(var i=0;i<l;i++){if(M[i].hi){return true;}}var p,m=M[0];if(!m){return true;}p=m.kid;if(!p){return true;}p.unHiSibls();p.hilite();return false;}return true;}function zzKDh(ev){altDown=0;var e=(ev&&ev.target)?ev:event;var k=(ev&&ev.target)?ev.which:event.keyCode;var A=e.altKey,C=e.ctrlKey,S=e.shiftKey,i,j,l,h,sz=M[L],m,n,p,d=(A?M_ALT:0)|(C?M_CTRL:0)|(S?M_SHIFT:0);for(i=0;i<sz;i++){m=M[i];l=m.sc[L];for(j=0;j<l;j++){n=m.sc[j];if(n&&n.sco&&(n.sco.k==k)&&(n.sco.m==d)){return n.action(1,ev);}}}for(i=0;i<sz;i++){m=M[i];n=m.hi;if(n){l=n.l();h=n.menu.h;switch(k){case 13:return n.action(1,ev);case 18:case 27:n.menu.unHi(1);return false;case 37:if(h&&(l<=1)){if(n.dad){n=n.dad;}p=fLR(n,1);if(!p){return false;}kbrdHi(p);}else{p=n.dad;if(p){p.unHiSibls();p.hilite();}}return false;case 38:p=fUD(n,1);if(p){p.unHiSibls();p.hilite();}return false;case 39:if(h&&((!l)||(!n.ul))){while(n.dad){n=n.dad;}p=fLR(n,0);if(!p){return false;}kbrdHi(p);return false;}kbrdHi(n);return false;case 40:if(h&&(!l)){kbrdHi(n);}else{p=fUD(n,0);if(p){p.unHiSibls();p.hilite();}}return false;default:if(!(A&&C&&S)){p=findAccl(n.sibls(),k);if(p){return p.action(1,ev);}}return false;}}}altDown=(k==18)&&(!(C||S));return true;}function findAccl(a,k){if(a){var e,c,i,l=a[L];for(i=0;i<l;i++){e=a[i];c=e.accl;if(c&&(c[L]==1)&&(c.toUpperCase().charCodeAt(0)==k)&&e.en){return e;}}}return 0;}var tks={'BKSP':8,'ESC':27,'PGUP':33,'PGDOWN':34,'END':35,'HOME':36,'LEFT ARROW':37,'UP ARROW':38,'RIGHT ARROW':39,'DOWN ARROW':40,'INS':45,'DEL':46,'F1':112,'F2':113,'F3':114,'F4':115,'F5':116,'F6':117,'F7':118,'F8':119,'F9':120,'F10':121,'F11':122,'F12':123},M_CTRL=0x1,M_ALT=0x2,M_SHIFT=0x4,mods={'CTRL':M_CTRL,'ALT':M_ALT,'SHIFT':M_SHIFT};function ZZSC(){this.k=0;this.m=0;}G.parseShortcut=function(t){var s=new ZZSC();t=t.toUpperCase();var a=t.split('+');var c,tk,i,l=a[L];for(i=0;i<l;i++){tk=a[i];if(tk[L]==1){if(!s.k){c=tk.charCodeAt(0);if(((c>=48)&&(c<=57))||((c>=65)&&(c<=90))){s.k=c;}}}else if(mods[tk]){s.m|=mods[tk];}else if(tks[tk]){if(!s.k){s.k=tks[tk];}}}return s;};G.bind=function(c,m){return(function(e){return c[m](e);});};G.delClass=function(e,n){if((!e)||(!e[CN])||(e[CN]=='')){return;}var a=e[CN].split(' ');var l=a[L];var i,b=[];for(i=0;i<l;i++){if(a[i]!=n){b[b[L]]=a[i];}}e[CN]=b.join(' ');};G.delClasses=function(e,a){var m=a[L];var c=e[CN].split(' ');var l=c[L];var i,j,f,b=[];for(i=0;i<l;i++){f=0;for(j=0;j<m;j++){if(c[i]==a[j]){f=1;break;}}if(!f){b[b[L]]=c[i];}}e[CN]=b.join(' ');};G.isClass=function(e,n){if((!e)||(!e[CN])||(e[CN]=='')){return 0;}var a=e[CN].split(' ');var i,l=a[L];for(i=0;i<l;i++){if(a[i]==n){return 1;}}return 0;};function findContainer(e,t){var n=e.parentNode;for(;n;n=n.parentNode){if(n.tagName.toLowerCase()==t){return n;}}return 0;}G.getChild=function(e,t){for(var q=e[FC];q;q=q[NS]){if(q.nodeType!=1){continue;}if(q.tagName.toLowerCase()==t){return q;}}return 0;};function isParent(e,p){var n=e;for(;n;n=n.parentNode){if(n.parentNode==p){return 1;}}return 0;}function getText(e){var q,r='';for(q=e[FC];q;q=q[NS]){if(q.nodeType==3){r+=q.data;}else if((q.nodeType==1)&&q[FC]){r+=getText(q);}}return r;}G.getStyle=function(e,p){if(e.currentStyle){return e.currentStyle[p];}var v,d=e.ownerDocument;if(d){v=d.defaultView;if(v){if(v.getComputedStyle){return v.getComputedStyle(e,'')[p];}}}return false;};G.getOffset=function(e,p){var x=e[p];for(var n=e[OP];n;n=n[OP]){x+=n[p];}return x;};G.getRelOffset=function(e,p){var s,n,x=e[p];for(n=e[OP];n;n=n[OP]){s=G.getStyle(n,'position');if(s.toLowerCase()!='static'){return x;}x+=n[p];}return x;};function cancelEv(e){var ev=e||window.event;if(ev){if(ev.stopPropagation){ev.stopPropagation();}ev.cancelBubble=true;if(window.event){ev.keyCode=0;ev.returnValue=false;}}}function max(a,b){return(b>a)?b:a;}function min(a,b){return(b<a)?b:a;}function zzint(x){var c,i,j='',l=x[L];for(i=0;i<l;i++){c=x.charCodeAt(i);if(((c>=48)&&(c<=57))||(c==46)){j+=x.charAt(i);}}return parseFloat(j);}G.newMenu=function(){var m=new ZZMenu();M[M[L]]=m;return m;};G.getMenu=function(i){return M[i];};G.newItem=function(){var n=new ZZME();return n;};G.clearMem=function(e){};}function ZZEEMenusAPI(){var G=this;this.updateG=function(){G=this;};function ZZSM(){}this.ZZSM=function(){return new ZZSM();};function setDad(i,n){n.menu=i.menu?i.menu:i;n.dad=i.menu?i:0;i.wSet=0;}function setProps(n,o){if(!o){return;}for(var p in o){if(p=='subitems'){n.addItems(o[p]);}else{n[p]=o[p];}}}ZZSM.prototype.add=function(o){var T=this,n=G.newItem(),e;if(T.kid){for(e=T.kid;e.nx;e=e.nx){}e.nx=n;n.pr=e;}else{T.kid=n;}setDad(T,n);setProps(n,o);return n;};ZZSM.prototype.insert=function(b,o){var n=G.newItem();n.pr=b.pr;if(n.pr){n.pr.nx=n;}n.nx=b;b.pr=n;if(this.kid==b){this.kid=n;}setDad(this,n);setProps(n,o);return n;};ZZSM.prototype.insertChild=function(o){if(this.kid){return this.insert(this.kid,o);}else{return this.add(o);}};ZZSM.prototype.remove=function(e){var n=e.nx,p=e.pr;if(n){n.pr=p;}if(p){p.nx=n;}if(e==this.kid){this.kid=n;}G.clearMem(e);};ZZSM.prototype.addItems=function(a){var e,i,l=a.length,n,s;for(i=0;i<l;i++){s=a[i];e=this.add();if(!e){return;}for(n in s){if(n=='subitems'){e.addItems(s[n]);}else{e[n]=s[n];}}}};ZZSM.prototype.index=function(){var i=0,e=this.par().kid;for(;e;e=e.nx){if(e==this){return i;}i++;}};function walkItems(T,f,p){var e;for(e=T.kid;e;e=e.nx){f(e,p);if(e.kid){walkItems(e,f,p);}}}ZZSM.prototype.getItem=function(a){var e=this,i,j,k,l=a.length;for(j=0;j<l;j++){k=a[j];i=0;for(e=e.kid;e;e=e.nx){if(k==i++){if(j==(l-1)){return e;}else{break;}}}}return false;};function clearZZME(T){T.sep=0;T.li=0;T.a=0;T.i=0;T.ul=0;T.cl='';T.acl='';if(T.sco){var m=T.menu.sc;var a=[],i,j,l=m.length;for(i=0;i<l;i++){if(m[i]!=T){a[j++]=m[i];}}T.menu.sc=a;T.accl=0;T.sc=0;T.sco=0;}T.hi=0;T.expd=0;T.wSet=0;T.sChk(0);T.ckd=0;if(T.dad){T.dad.wSet=0;}}function updateZZME(T){var p=T.par();var li=(T.nx)?T.nx.li:0;if(p.ul&&T.li){p.ul.removeChild(T.li);}T.clear();function cl(e){e.clear();}walkItems(T,cl);li=createLI(p.ul,T,li);if(T.kid&&li){T.menu.createLevel(T,li);}}function clearZZMenu(T){T.ul=0;T.sc=[];T.hi=0;T.expd=0;T.initialized=0;}function updateZZMenu(T){var c=T.ul.parentNode;if(c){c.removeChild(T.ul);T.clear();function cl(e){e.clear();}walkItems(T,cl);_initMenu(T,c);}}ZZSM.prototype.update=function(){if(this.menu){return updateZZME(this);}return updateZZMenu(this);};ZZSM.prototype.clear=function(){if(this.menu){return clearZZME(this);}return clearZZMenu(this);};var SP=String.fromCharCode(160);function handleCaption(e){var t=e.caption;var a='',s,i,j=-1,l=t.length;for(i=0;i<l;i++){s=t.charAt(i);if(s=='&'){i++;if(i>=l){break;}s=t.charAt(i);if((j<0)&&(s!='&')){j=a.length;e.accl=s.toUpperCase();}}if(s==' '){s=SP;}a+=s;}e.cap1=a;return j;}function crEl(p,t,c,b){var e=document.createElement(t);if(!e){return e;}if(c){e.className=c;}if(b){return p.insertBefore(e,b);}return p.appendChild(e);}function crT(p,t){var e=document.createTextNode(t);if(!e){return e;}return p.appendChild(e);}function createUL(p,cont,t,h){var cl=t?((h?'zzmenuH':'zzmenuV')+' zzmenuNS'):(h?'s smH':'s smV');var u=crEl(cont,'ul',cl);if(!u){return 0;}p.ul=u;var n,z=p.cssSubmenu;if(z){u.setAttribute('style',z);u.style.cssText=z;}var l=0;if(p.menu){l=p.l()+1;}u.style.zIndex=500+l;return u;}function createLI(u,e,befo){var t=(!e.dad);var h=e.menu.h;var a,i,l,n,x,z;if(!e.caption){e.caption=SP;}if(e.caption=='-'){e.sep=1;}if(e.sep){e.cl=(t&&h)?'sh':'sv';}else{if(t&&h){e.cl='h'+(e.en?' uh':' dh');}else{e.cl='v'+(e.en?' uv':' dv');}}l=crEl(u,'li',e.cl,befo);if(!l){return 0;}e.li=l;if(e.sep){return l;}l.onclick=G.bind(e,"click");l.onmouseover=G.bind(e,"mover");x=e.css;if(x){l.setAttribute('style',x);l.style.cssText=x;}var sp=crEl(l,'span',e.cl);if(!sp){return 0;}e.sp=sp;e.acl=e.cl+(e.kid?((t&&h)?' smH':' smV'):'');a=crEl(sp,'a',e.acl);if(!a){return 0;}a.href=e.url;e.a=a;a.onfocus=G.bind(e,"onfocus");if(e.hint){a.title=e.hint;}if(e.target){a.target=e.target;}putIcon(e,h,t);e.cbIcon();i=handleCaption(e);x=e.cap1;if(x.length){if(t){a.setAttribute('accessKey',e.accl);}if(i>0){z=crT(a,x.substr(0,i));if(!z){return 0;}}if(i>=0){n=crEl(a,'u',false);if(!n){return 0;}z=crT(n,x.substr(i,1));if(!z){return 0;}}z=crT(a,x.substr(i+1));if(!z){return 0;}}x=e.shortcut;if(x&&x.length&&(!e.kid)){i=G.parseShortcut(x);if(i&&i.k){n=crEl(a,'i','sc');if(!n){return 0;}z=crT(n,x);if(!z){return 0;}e.menu.sc[e.menu.sc.length]=e;e.sc=n;e.sco=i;}}return l;}function _initMenu(m,c){if(m.initialized){return;}m.initialized=1;m.createLevel=function(p,cont){if(!p.kid){return;}var t=(p==this);var h=this.h;var u=p.ul;if(!u){u=createUL(p,cont,t,h);if(!u){return;}}var e,l;for(e=p.kid;e;e=e.nx){l=(e.nx)?e.nx.li:0;l=createLI(u,e,l);if(!l){return;}if(e.kid){this.createLevel(e,l);}}};m.createLevel(m,c);if((!m.h)&&(!(m.ul.style.width))){m.setWidth();}}this.initMenu=function(m,c){_initMenu(m,c);this.setEvents();};ZZSM.prototype._sChk=function(b){var T=this;T.sChk(b);T.i=0;T.cbIcon();};ZZSM.prototype.setChecked=function(b){b=b?1:0;var T=this;if(T.sep||T.kid||((!T.l())&&T.menu.h)){return b;}if(T.r&&b){var e=T.par();for(e=e.kid;e;e=e.nx){if((e!=T)&&(!e.sep)&&(e.r==T.r)&&e.getChecked()){e._sChk(0);}}}T._sChk(b);return b;};ZZSM.prototype.setRadio=function(r){this.r=r;this.onclick=function(){this.setChecked(1);};};ZZSM.prototype.upIcon=function(i){var T=this;if(!(T.a&&T.i)){return;}if((!T.l())&&T.menu.h){var q=G.getChild(T.a,'img');if(q){q.src=i;}}else if(!T.kid){T.a.style.backgroundImage="url('"+i+"')";}};function putIcon(e,h,t){if(e.icon){if(h&&t){var z=crEl(e.a,'img','');if(!z){return;}z.src=e.icon;e.i=1;}else if(!e.kid){e.a.style.backgroundImage="url('"+e.icon+"')";e.i=1;}}}ZZSM.prototype.disable=function(){var T=this;if(!T.en){return;}var e=T.li;if(!e){return;}var h=G.isClass(e,'h');G.delClass(e,(h?'uh':'uv'));e.className+=' '+(h?'dh':'dv');G.adjustCSS(e);e=T.a;G.delClass(e,(h?'uh':'uv'));e.className+=' '+(h?'dh':'dv');if(T.iconD){T.upIcon(T.iconD);}T.en=0;};ZZSM.prototype.enable=function(){var T=this;if(T.en){return;}var e=T.li;var h=G.isClass(e,'h');e.className=T.cl;G.adjustCSS(e);e=T.a;e.className=T.acl;T.upIcon(T.icon);T.en=1;};ZZSM.prototype.getEnabled=function(){return this.en;};}ZZEEMenus.prototype=new ZZEEMenusAPI();